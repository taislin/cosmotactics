<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>CosmoTactics - Manual</title>
	<link rel="stylesheet" href="./style.css">
	<link rel="icon" href="./../app/icons/icon.png" type="image/png">
	<!-- Restored the script to dynamically load your data -->
	<script src="./displaydata.js" type="module"></script>
</head>

<body>
	<main>
		<img src="./header.png" style="display: block;margin-left: auto;margin-right: auto;width: 50%;">
		<h1>OPERATOR'S MANUAL</h1>
		<p style="text-align: center;margin-top:0">Version: <span id="game-version"></span></p>
		<nav>
			<ul>
				<li><a href="#intro">Introduction</a></li>
				<li><a href="#mechanics">Core Mechanics</a></li>
				<li><a href="#screen">Game Screen</a></li>
				<li><a href="#controls">Controls</a></li>
				<li><a href="#units">Unit Roster</a></li>
				<li><a href="#weapons">Weapon Systems</a></li>
				<li><a href="#stats">Stats & Skills</a></li>
				<li><a href="#items">Items & Pickups</a></li>
			</ul>
		</nav>

		<section id="intro">
			<h2>Introduction: What is This?</h2>
			<p><b>CosmoTactics</b> is a squad-based tactical roguelike set in a gritty sci-fi universe. You are the
				commander of a Space Expeditionary Force (SEF) squad, tasked with exploring hostile alien planets.
				Navigate treacherous environments, battle a myriad of alien lifeforms, and lead your team to victory...
				or a heroic death.</p>
			<p>Inspired by classics like <b>XCOM</b> and <b>Rebelstar</b>, CosmoTactics features deep, turn-based combat
				with a unique twist: simultaneous turns.</p>
		</section>

		<section id="mechanics">
			<h2>Core Mechanics</h2>
			<h3>Simultaneous Turns</h3>
			<p>Unlike traditional turn-based games, you don't move your entire team and then wait for the enemy. In
				CosmoTactics, you issue an order to <strong>one selected unit</strong>. Once you confirm that action
				(moving, firing, waiting), <strong>all other units on the map (both friendly and hostile) will act
					simultaneously</strong>. This makes every decision critical, as the entire battlefield can change in
				an instant.</p>

			<h3>The Squad and Stances</h3>
			<p>You only directly control one unit at a time. The rest of your squad operates based on their assigned
				<b>Stance</b>. This is the heart of SEF squad command.
			</p>
			<ul>
				<li><code>Follow</code>: The default stance. The unit will attempt to follow the player-controlled unit,
					maintaining squad cohesion. They will still engage enemies if one gets close.</li>
				<li><code>Hold</code>: The unit will stay in its current position, creating a defensive line or holding
					a chokepoint.</li>
			</ul>
			<p>You can also toggle <code>Autofire</code> for each unit. When enabled, a unit will automatically fire at
				any visible enemy in range, whether they are in <code>Follow</code> or <code>Hold</code> stance. A unit
				with Autofire disabled will only return fire or fight in melee.</p>

			<h3>Field of View (FOV) & Fog of War</h3>
			<p>You can only see what your squad members can see. The map is covered in a fog of war.</p>
			<ul>
				<li><b>Visible Area:</b> Brightly lit tiles are currently in a squad member's line of sight. You can see
					enemies and real-time changes here.</li>
				<li><b>Seen Area:</b> Dimly lit tiles are areas you have explored but cannot currently see. You will
					remember the terrain, but you won't see enemies moving in the shadows.</li>
			</ul>
		</section>

		<section id="screen">
			<h2>Game Screen</h2>
			<p>The screen is divided into two main parts: the <strong>Game Map</strong> on the left, where the action
				happens, and the <strong>Information Panel</strong> on the right, which displays unit stats, logs, and
				interaction menus.</p>
			<img src="./screen2.png" id="screen_img">
		</section>

		<section id="controls">
			<h2>Controls</h2>
			<p>The game can be fully played with either the keyboard, the mouse, or a combination.</p>
			<table class="controls-table">
				<tr>
					<th>Key(s)</th>
					<th>Function</th>
				</tr>
				<tr>
					<td><span class="key-char">↑</span> <span class="key-char">↓</span> <span class="key-char">←</span>
						<span class="key-char">→</span>
					</td>
					<td>Move the cursor/target reticle. Navigate menus.</td>
				</tr>
				<tr>
					<td><span class="key-char">W</span><span class="key-char">A</span><span
							class="key-char">S</span><span class="key-char">D</span> <span
							class="key-char">Q</span><span class="key-char">E</span><span class="key-char">Z</span><span
							class="key-char">C</span> / Numpad</td>
					<td>Move the selected unit one tile (in Move mode).</td>
				</tr>
				<tr>
					<td><span class="key-char">Enter</span> / <span class="key-char">Space</span></td>
					<td>Confirm action (Move to/Fire at target). Select menu items.</td>
				</tr>
				<tr>
					<td><span class="key-char">M</span></td>
					<td>Switch to <strong>Move</strong> mode.</td>
				</tr>
				<tr>
					<td><span class="key-char">F</span></td>
					<td>Switch to <strong>Fire</strong> mode.</td>
				</tr>
				<tr>
					<td><span class="key-char">L</span></td>
					<td>Switch to <strong>Inspect (Look)</strong> mode.</td>
				</tr>
				<tr>
					<td><span class="key-char">N</span></td>
					<td>Select the <strong>Next</strong> playable unit in your squad.</td>
				</tr>
				<tr>
					<td><span class="key-char">O</span></td>
					<td>Toggle <strong>Autofire</strong> for the selected unit.</td>
				</tr>
				<tr>
					<td><span class="key-char">P</span></td>
					<td>Toggle Stance (<strong>Follow/Hold</strong>) for the selected unit.</td>
				</tr>
				<tr>
					<td><span class="key-char">T</span></td>
					<td><strong>Wait</strong>. The selected unit does nothing, and the turn proceeds.</td>
				</tr>
				<tr>
					<td><span class="key-char">R</span></td>
					<td><strong>Reload</strong> the selected unit's ranged weapon. This takes a turn.</td>
				</tr>
				<tr>
					<td><span class="key-char">Shift</span> / <span class="key-char">Ctrl</span></td>
					<td>Navigate tabs in the Information Panel (e.g., Equipment, Logs).</td>
				</tr>
				<tr>
					<td><span class="key-char">U</span></td>
					<td><strong>Use / Interact</strong> with an object at the cursor's location (e.g., pick up items,
						use stairs).</td>
				</tr>
				<tr>
					<td><span class="key-char">0</span>-<span class="key-char">3</span></td>
					<td>Quick-select tabs in the Information Panel.</td>
				</tr>
				<tr>
					<td><span class="key-char">Esc</span></td>
					<td>Return to the Main Menu.</td>
				</tr>
			</table>
		</section>

		<section id="stats">
			<h2>Stats & Skills</h2>
			<p>Every unit, friendly or otherwise, is defined by a set of core statistics.</p>
			<ul>
				<li><b>Health:</b> The unit's life force. When this reaches zero, the unit is killed.</li>
				<li><b>Armor / Defence:</b> Reduces incoming damage from attacks. This stat is primarily granted by
					suits and helmets.</li>
				<li><b>Attack:</b> The base damage for a unit's melee attacks (when unarmed). Weapon damage overrides
					this.</li>
				<li><b>Speed:</b> Determines how frequently a unit can act. A unit with a speed of 2 can act twice as
					often as a unit with a speed of 1. Player units have a speed of 1.</li>
				<li><b>Oxygen:</b> A global resource shared by your squad. It depletes slowly each turn. If it reaches
					zero, your mission is a failure.</li>
				<li><b>Gold:</b> Currency acquired during missions, likely for use between levels.</li>
			</ul>
		</section>

		<section id="items">
			<h2>Items & Pickups</h2>
			<p>During your expeditions, you will find items and equipment. Use the <span class="key-char">U</span> key
				or the GUI to interact with items on the ground when your cursor is over them.</p>
			<ul>
				<li><b>Oxygen Tank:</b> A consumable that instantly replenishes a portion of your squad's shared
					<b>Oxygen</b> supply.
				</li>
				<li><b>Medkit:</b> A consumable that instantly heals a small amount of health for <b>every unit</b> in
					your squad.</li>
				<li><b>Stairs:</b> Not an item, but the objective. Move your whole squad near the stairs and use them to
					descend to the next, more dangerous level.</li>
			</ul>
		</section>

		<section id="units">
			<h2>Unit Roster</h2>
			<!-- Restored empty table for your script to populate -->
			<table id="unitstable"></table>
		</section>

		<section id="weapons">
			<h2>Weapon Systems</h2>
			<p>Understanding your equipment is key to survival. Every weapon has unique stats that define its
				performance in combat.</p>

			<div class="note">
				<strong>Weapon Stats Explained:</strong>
				<ul>
					<li><b>Type:</b> The category of the weapon (e.g., Laser Pistol, Projectile Rifle). Some enemies may
						be resistant to certain types.</li>
					<li><b>Damage:</b> The average damage dealt on a successful hit, before armor is applied. The actual
						damage will vary slightly per shot.</li>
					<li><b>Range:</b> The maximum number of tiles the weapon can effectively fire.</li>
					<li><b>Ammo:</b> The number of shots currently in the weapon / The maximum number of shots the
						weapon can hold.</li>
					<li><b>Reload:</b> The number of turns it takes to perform a full reload.</li>
					<li><b>Accuracy:</b> The base chance to hit a target. This is modified by distance.</li>
				</ul>
			</div>
			<!-- Restored empty table for your script to populate -->
			<table id="weaponstable"></table>
		</section>

	</main>
</body>

</html>